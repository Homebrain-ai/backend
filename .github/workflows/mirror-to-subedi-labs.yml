name: Mirror to subedi-labs (homebrain-backend)

on:
  push:
    branches: ["**"]
    tags: ["**"]
  workflow_dispatch:

jobs:
  mirror:
    runs-on: ubuntu-latest
    steps:
      - name: Mirror push
        env:
          SRC: https://github.com/homebrain-ai/backend.git
          DST: https://x-access-token:${{ secrets.SUBEDI_LABS_AUTOMATION_TOKEN }}@github.com/subedi-labs/homebrain-backend.git
        run: |
          git clone --mirror "$SRC" repo.git
          cd repo.git
          git push --mirror "$DST"
